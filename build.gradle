plugins {
    id 'org.asciidoctor.jvm.convert' version '3.3.2'
    id 'org.aim42.htmlSanityCheck' version '1.1.6'
}

repositories {
    mavenCentral()
}

asciidoctor {
    sourceDir = file('docs')
    outputDir = file('build/docs')

    attributes 'source-highlighter': 'highlight.js'
    attributes 'source-language': 'typescript'
    attributes 'highlightjs-languages': 'groovy, typescript'

    resources {
        from(sourceDir) {
            include '**/images/**'
            include '**/media/**'
        }
    }
}

htmlSanityCheck {
    dependsOn asciidoctor

    sourceDir = tasks.asciidoctor.outputDir
}
